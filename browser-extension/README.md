# GitLab Webhook 浏览器插件

## 用途

这是一个 Chrome/Edge 浏览器插件，用于实时接收 GitLab webhook 事件通知。当 GitLab 发生代码推送、合并请求、Issue 或 CI/CD 流水线等事件时，插件会通过浏览器通知提醒您。

## 快速开始

### 1. 安装插件

1. 打开浏览器，访问 `chrome://extensions/` (Chrome) 或 `edge://extensions/` (Edge)
2. 开启右上角的"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择 `browser-extension` 目录

### 2. 配置插件

1. 点击浏览器工具栏中的插件图标
2. 点击"配置"按钮，或右键点击插件图标选择"选项"
3. 填写配置信息：
   - **Webhook 服务器地址**: 运行 webhook 服务器的地址（例如: `http://localhost:33333`）
   - **用户 ID**: 您的唯一标识符（必填，用于标识您的身份）
   - **用户名称**: 您的显示名称（可选）
   - **启用插件**: 是否启用插件
   - **启用浏览器通知**: 是否显示浏览器通知
4. 点击"保存配置"
5. 点击"测试连接"验证配置是否正确

### 3. 使用

配置完成后，插件会自动连接到服务器。当 GitLab 发生相关事件时，您会收到浏览器通知。

**连接状态指示**：
- 🟢 **绿色**: 已连接到服务器
- 🔴 **红色**: 连接失败或断开
- ⚪ **灰色**: 插件未启用

点击插件图标可以查看当前连接状态和配置信息。

## 常见问题

### 插件无法连接服务器
- 检查服务器是否正在运行
- 检查服务器地址配置是否正确
- 尝试点击"重连"按钮

### 收不到通知
- 确认插件已启用
- 确认浏览器通知权限已授予
- 检查用户ID是否配置正确

### 连接频繁断开
- 检查网络连接是否稳定
- 检查服务器是否正常运行

## 开发说明

### 技术实现
- **通信方式**: 使用 Server-Sent Events (SSE) 与服务器建立长连接
- **数据存储**: 使用 Chrome Storage API 存储配置
- **通知**: 使用 Chrome Notifications API 显示浏览器通知
